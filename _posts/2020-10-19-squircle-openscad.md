---
layout: post
title: Разработал два модуля для OpenScad, которые рисуют параллелепипед со скруглёнными краями
date: 2020-10-19 12:40:00 +03
modified: 2020-10-19 12:40:00 +03
categories: OpenScad
tags: [OpenScad, squircle, квадрокруг]
excerpt_separator: <a name="cut"></a>
links_in_new_tab: true
has_scalable_images: true
---

Недавно прочитал интересную [статью](https://habr.com/ru/company/droider/blog/517298/) на хабре. В этой статье рассказывается про дизайн иконок для смартфонов, где вместо квадратных иконок со скруглёнными краями используется так называемый квадрокруг.  
Если кратко, то использование таких кривых даёт более плавное скругление углов прямоугольника без резких переходов.  
И вот я подумал, почему бы не использовать квадрокруги в своих 3D моделях? Модели я разрабатываю в [OpenScad](https://www.openscad.org/), обычно для печати их на 3D принтере. И часто в этом случае приходится применять скругление острых углов, например, при разработке корпусов для своих самоделок.  
<a name="cut"></a>
Квадрокруг - это особая фигура, которая формируется кривой, сооветствующей уравнению  
![equation](https://i.upmath.me/svg/%5Cleft%7Cx%5Cover%20a%5Cright%7C%5En%2B%5Cleft%7Cy%5Cover%20b%5Cright%7C%5En%3D1.)  
Где a - длина по оси X, b - длина по оси Y, n - параметр, отвечающий за степень скругления.
Более подробно про квадрокруг можно прочитать в [этой](https://habr.com/ru/company/droider/blog/517298/) статье на хабре или на [Википедии](https://en.wikipedia.org/wiki/Squircle) (анг.).  
При этом удобно регулировать степень скругления, изменяя параметр n. Чем больше n - тем меньше степень скругления. Например, для n = 2 - будет элипс.  
В итоге разработал два модуля для OpenScad, которые рисуют параллелепипед со скруглёнными краями. Другими словами, это аналоги функции cube в OpenScad, только со скруглением.
Представлено два модуля:
* "roundedCube", который скругляет углы прямоугольника, лежащего в основании параллелепипеда, при помощи окружностей.
* "squircleCube", где вместо прямоугольника в основании параллелепипеда используется "квадрокруг".  

Исходный код можно скачать с [GitHub](https://github.com/Mendeo/rounded_cube).  
На рисунке ниже можно увидеть отличие квадрата со скруглением от квадрокруга (кликабельно). Я постарался подобрать параметры так, чтобы обе фигуры были как можно близки друг к другу. Здесь, зелёным цветом показаны края скруглённого квадрата, а коричневый - это квадрокруг.  
Параметры квадрокруга: размер 100, а степень n в уравнении равна 5. Параметры скруглённого квадрата: размер 100, а радиус скругления 22.  
<img alt="Изображение квадрокруга" src-big="{% link assets/posts/squircle-openscad/big/model.png %}" src="{% link assets/posts/squircle-openscad/small/model.png %}">